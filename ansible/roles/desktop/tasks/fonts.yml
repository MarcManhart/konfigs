---
# Fonts Installation

- name: Install fonts (Arch)
  when: ansible_distribution == "Archlinux"
  community.general.pacman:
    name:
      - ttf-dejavu
      - ttf-liberation
      - noto-fonts
      - noto-fonts-emoji
      - ttf-fira-code
      - ttf-jetbrains-mono
      - ttf-nerd-fonts-symbols
      - otf-font-awesome
    state: present

- name: Install fonts (Debian/Ubuntu)
  when: ansible_os_family == "Debian"
  ansible.builtin.apt:
    name:
      - fonts-dejavu
      - fonts-liberation
      - fonts-noto
      - fonts-noto-color-emoji
      - fonts-firacode
      - fonts-jetbrains-mono
      - fonts-font-awesome
    state: present

- name: Install fonts (Fedora)
  when: ansible_distribution == "Fedora"
  ansible.builtin.dnf:
    name:
      - dejavu-fonts-all
      - liberation-fonts
      - google-noto-fonts-common
      - google-noto-emoji-fonts
      - fira-code-fonts
      - jetbrains-mono-fonts
      - fontawesome-fonts
    state: present

# Microsoft Fonts f√ºr Gaming
- name: Install MS Core Fonts (Arch - AUR)
  when: ansible_distribution == "Archlinux"
  become: true
  become_user: "{{ main_user }}"
  ansible.builtin.command:
    cmd: yay -S --noconfirm ttf-ms-fonts
  changed_when: true
  failed_when: false

- name: Install MS Core Fonts (Debian/Ubuntu)
  when: ansible_os_family == "Debian"
  ansible.builtin.apt:
    name: ttf-mscorefonts-installer
    state: present
  environment:
    DEBIAN_FRONTEND: noninteractive

- name: Refresh font cache
  ansible.builtin.command:
    cmd: fc-cache -fv
  changed_when: true
